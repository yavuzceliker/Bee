@{
    ViewBag.Title = "Muayene - Uygulama Görüntüle";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@Html.Raw(TempData["msg"])
<style>
    #cb {
        margin-bottom: -7px;
    }

    .col-md-6 {
        padding-left: 10px;
    }
</style>
<form method="post">
    <div class="row">
        <div class="col-md-6 card-box">
            <b style="vertical-align:top;line-height:23px;font-size:20px;">Muayene</b><input name="MuayeneDurumu" type="checkbox" onchange="kontrol('muayene')" id="muayene" switch="inverse">
            <label for="muayene" data-on-label="Var" data-off-label="Yok"></label>
            <div id="muayenediv" style="display:none;">
                <div class="form-group">
                    <label for="Mevcut_Durumu">Mevcut Durumu<span class="text-danger">*</span></label>
                    <select class="form-control" name="MevcutDurumu" required id="Mevcut_Durumu">
                        <option>Seçiniz</option>
                        <option>0</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Ana_Durumu">Ana Durumu<span class="text-danger">*</span></label>
                    <select class="form-control" name="AnaDurumu" required id="Ana_Durumu">
                        <option>Seçiniz</option>
                        <option>Mevcut</option>
                        <option>Yok</option>
                        <option>Görülmedi</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Besin_Durumu">Besin Durumu<span class="text-danger">*</span></label>
                    <select class="form-control" name="BesinDurumu" required id="Besin_Durumu">
                        <option>Seçiniz</option>
                        <option>Aç</option>
                        <option>Tok</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Eksik_Cerceve">Eksik Çerçeve<span class="text-danger">*</span></label>
                    <input type="number" name="EksikCerceve" class="form-control" id="Eksik_Cerceve">
                </div>
                <div class="form-group">
                    <label for="Ana_Memesi">Ana Memesi<span class="text-danger">*</span></label>
                    <select class="form-control" name="AnaMemesi" id="Ana_Memesi">
                        <option>Seçiniz</option>
                        <option>Yok</option>
                        <option>Var</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Yalanci_Ana">Yalanci Ana<span class="text-danger">*</span></label>
                    <select class="form-control" name="YalanciAna" required id="Yalanci_Ana">
                        <option>Seçiniz</option>
                        <option>Yok</option>
                        <option>Var</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Ogul">Oğul</label>
                    <select class="form-control" name="Ogul" required id="Ogul">
                        <option>Seçiniz</option>
                        <option>Yok</option>
                        <option>Var</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Bal_Durumu">Bal Durumu</label>
                    <select class="form-control" name="BalDurumu" required id="Bal_Durumu">
                        <option>Seçiniz</option>
                        <option>Yok</option>
                        <option>Var</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Fiziksel_Sorun">Fiziksel Sorun<span class="text-danger">*</span></label>
                    <input type="checkbox" onchange="varyok('Fiziksel_Sorun','F_Sorun')" id="F_Sorun" switch="inverse">
                    <label id="cb" for="F_Sorun" data-on-label="Var" data-off-label="Yok"></label>
                    <textarea placeholder="Fiziksel sorunu belirtiniz." class="form-control" name="FizikselSorun" style="display:none;" id="Fiziksel_Sorun" rows="5"></textarea>
                </div>
                <div class="form-group">
                    <label for="Hasta">Hastalık<span class="text-danger">*</span></label>
                    <input type="checkbox" onchange="varyok('Hastalik', 'Hasta')" id="Hasta" switch="inverse">
                    <label id="cb" for="Hasta" data-on-label="Var" data-off-label="Yok"></label>
                    <textarea placeholder="Hastalığı belirtiniz." class="form-control" name="Hastalik" style="display:none;" id="Hastalik" rows="5"></textarea>
                </div>
                <div class="form-group">
                    <label for="Parazit">Parazit<span class="text-danger">*</span></label>
                    <input type="checkbox" onchange="varyok('parazitbilgi', 'Parazit')" id="Parazit" switch="inverse">
                    <label id="cb" for="Parazit" data-on-label="Var" data-off-label="Yok"></label>
                    <textarea placeholder="Parazit durumunu belirtiniz." class="form-control" name="Parazit" style="display:none;" id="parazitbilgi" rows="5"></textarea>
                </div>
                <div class="form-group">
                    <label for="Zararli">Zararlı<span class="text-danger">*</span></label>
                    <input type="checkbox" onchange="varyok('zararlibilgi', 'Zararli')" id="Zararli" switch="inverse">
                    <label id="cb" for="Zararli" data-on-label="Var" data-off-label="Yok"></label>
                    <textarea placeholder="Zararlı durumunu belirtiniz." class="form-control" name="Zararli" style="display:none;" id="zararlibilgi" rows="5"></textarea>
                </div>
            </div>
        </div>
        <div class="col-md-6 card-box">
            <b style="vertical-align:top;line-height:23px;font-size:20px;">Uygulama</b><input type="checkbox" onchange="kontrol('uygulama')" id="uygulama" name="UygulamaDurumu" switch="inverse">
            <label for="uygulama" data-on-label="Var" data-off-label="Yok"></label>
            <div id="uygulamadiv" style="display:none;">
                <div class="form-group">
                    <label for="Ana_Verme">Ana Verme<span class="text-danger">*</span></label>
                    <select class="form-control" name="AnaVerme" required id="Ana_Verme">
                        <option>Seçiniz</option>
                        <option>Verilmedi</option>
                        <option>Verildi</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Cerceve_Alma">Çerçeve Alma<span class="text-danger">*</span></label>
                    <select class="form-control" name="CerceveAlma" required id="Cerceve_Alma">
                        <option>Seçiniz</option>
                        <option>0</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Cerceve_Verme">Çerçeve Verme<span class="text-danger">*</span></label>
                    <select class="form-control" name="CerceveVerme" required id="Cerceve_Verme">
                        <option>Seçiniz</option>
                        <option>0</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Ilaclama">İlaçlama<span class="text-danger">*</span></label>
                    <input type="checkbox" onchange="varyok('Ilac', 'Ilaclama')" id="Ilaclama" switch="inverse">
                    <label id="cb" for="Ilaclama" data-on-label="Var" data-off-label="Yok"></label>
                    <textarea placeholder="Açıklama giriniz." class="form-control" name="Ilaclama" style="display:none;" id="Ilac" rows="5"></textarea>
                </div>
                <div class="form-group">
                    <label for="Onarim">Fiziksel Onarım<span class="text-danger">*</span></label>
                    <input type="checkbox" onchange="varyok('Fiziksel_Onarim', 'Onarim')" id="Onarim" switch="inverse">
                    <label id="cb" for="Onarim" data-on-label="Var" data-off-label="Yok"></label>
                    <textarea placeholder="Açıklama giriniz." class="form-control" name="FizikselOnarim" style="display:none;" id="Fiziksel_Onarim" rows="5"></textarea>
                </div>
                <div class="form-group">
                    <label for="Besin">Besin Verme<span class="text-danger">*</span></label>
                    <input type="checkbox" onchange="varyok('Besin_Verme', 'Besin')" id="Besin" switch="inverse">
                    <label id="cb" for="Besin" data-on-label="Var" data-off-label="Yok"></label>
                    <textarea placeholder="Açıklama giriniz." class="form-control" name="BesinVerme" style="display:none;" id="Besin_Verme" rows="5"></textarea>
                </div>
                <div class="form-group">
                    <label for="Birlestir">Birleştirme<span class="text-danger">*</span></label>
                    <input type="checkbox" onchange="varyok('Birlestirme', 'Birlestir')" id="Birlestir" switch="inverse">
                    <label id="cb" for="Birlestir" data-on-label="Var" data-off-label="Yok"></label>
                    <select class="form-control" name="Birlestirme" style="display:none;" id="Birlestirme">
                        <option>Kaynak ID:</option>
                        <option>123456789</option>
                        <option>123456788</option>
                        <option>123456787</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Bol">Bölme<span class="text-danger">*</span></label>
                    <input type="checkbox" onchange="varyok('Bolme', 'Bol')" id="Bol" switch="inverse">
                    <label id="cb" for="Bol" data-on-label="Var" data-off-label="Yok"></label>
                    <select class="form-control" name="Bolme" style="display:none;" id="Bolme">
                        <option>Yeni ID:</option>
                        <option>123456789</option>
                        <option>123456788</option>
                        <option>123456787</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Ballik_Alma">Ballık Alma<span class="text-danger">*</span></label>
                    <input type="checkbox" name="BallikAlma" id="Ballik_Alma" switch="inverse">
                    <label id="cb" for="Ballik_Alma" data-on-label="Var" data-off-label="Yok"></label>
                </div>
                <div class="form-group">
                    <label for="Bal_Hasat">Bal Hasadı<span class="text-danger">*</span></label>
                    <input type="checkbox" onchange="varyok('Bal_Hasadi', 'Bal_Hasat')" id="Bal_Hasat" switch="inverse">
                    <label id="cb" for="Bal_Hasat" data-on-label="Var" data-off-label="Yok"></label>
                    <input type="number" name="BalHasadi" style="display:none;" placeholder="Bal miktarı." class="form-control" id="Bal_Hasadi">
                </div>
            </div>
        </div>
        <div class="col-md-12 card-box">
            <div class="form-group col-md-4">
                <label for="Koloni_ID">Koloni ID<span class="text-danger">*</span></label>
                <input type="number" name="KoloniId" parsley-trigger="change"
                       placeholder="Koloni ID giriniz." class="form-control" id="Koloni_ID">
                <div class="form-group text-right m-t-20">
                    <button class="btn btn-primary waves-effect waves-light" onclick="qrkod()">Kodu Tara</button>
                </div>
            </div>
            <div id="qrkod" style="display:none;">
            </div>
            <script>
                var kontrol = 0;
                function qrkod() {
                    document.getElementById("qrkod").setAttribute("style", "display:block; position:absolute;width:300px;height:500px;");
                    document.getElementById("qrkod").innerHTML = "<iframe id='frame' src='/home/QROkuma'></iframe>";
                    kontrol = 0;
                }
                var myVar = setInterval(myTimer, 100);
                function myTimer() {
                    if (kontrol == 0) {
                        var bol = document.getElementById('frame').contentWindow.location.toString().split("=");
                        if (bol[1] != undefined) {
                            document.getElementById("Koloni_ID").value = bol[1];
                            kontrol = 1;
                            document.getElementById("qrkod").setAttribute("style", "display:none;");
                            document.getElementById("qrkod").innerHTML = "";
                        }
                    }
                }
            </script>
            <div class="form-group col-md-4">
                <label>Tarih</label>
                <div>
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="mm/dd/yyyy" id="datepicker-autoclose" name="tarih">
                        <span class="input-group-addon bg-custom b-0"><i class="mdi mdi-calendar text-white"></i></span>
                    </div><!-- input-group -->
                </div>
            </div>
            <div class="form-group col-md-4">
                <label>Saat</label>
                <div class="input-group clockpicker m-b-20" data-placement="top" data-align="top" data-autoclose="true">
                    <input type="text" class="form-control" value="13:14" name="saat">
                    <span class="input-group-addon"> <span class="mdi mdi-clock"></span> </span>
                </div>

                <div class="form-group text-right m-b-0">
                    <button class="btn btn-primary waves-effect waves-light" type="submit">
                        Muayene - Uygulama Kaydet
                    </button>
                    <button type="reset" class="btn btn-default waves-effect m-l-5">
                        İptal
                    </button>
                </div>
            </div>
            <!-- input-group -->
        </div>
    </div>
</form>
<script>
    function kontrol(checkbox) {
        if (checkbox == "muayene") {
            document.getElementById("muayenediv").setAttribute("style", "display:" + (document.getElementById("muayene").checked == true ? "block;" : "none"));
        }
        else if (checkbox == "uygulama") {
            document.getElementById("uygulamadiv").setAttribute("style", "display:" + (document.getElementById("uygulama").checked == true ? "block;" : "none"));
        }
    }
    function varyok(textarea, cb) {
        document.getElementById(textarea).setAttribute("style", "display:" + (document.getElementById(cb).checked == true ? "block" : "none"));
    }
</script>